(self.webpackChunkiobroker_admin_component_acme=self.webpackChunkiobroker_admin_component_acme||[]).push([["src_bootstrap_jsx"],{50477:(()=>{}),95868:((oe,ne,o)=>{"use strict";var s=o(77810),x=o(94140),h=o(6761),g=o(46886),O=o(82568),n=o(17739);const A=JSON.parse('{"custom_acme_id":"ID","custom_acme_status":"Status","custom_acme_title":"Status of the collections","custom_acme_domains":"Domains","custom_acme_staging":"Test-Environment","custom_acme_expires":"Expires","custom_acme_expired":"expired"}'),S=JSON.parse('{"custom_acme_id":"ID","custom_acme_status":"Status","custom_acme_title":"Status der Sammlungen","custom_acme_domains":"Dom\xE4nen","custom_acme_staging":"Testumgebung","custom_acme_expires":"L\xE4uft ab","custom_acme_expired":"Abgelaufen"}'),D=JSON.parse('{"custom_acme_id":"ID","custom_acme_status":"\u0421\u0442\u0430\u0442\u0443\u0441","custom_acme_title":"\u0421\u0442\u0430\u0442\u0443\u0441 \u043A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u0439","custom_acme_domains":"\u0414\u043E\u043C\u0435\u043D\u044B","custom_acme_staging":"\u0422\u0435\u0441\u0442","custom_acme_expires":"\u0418\u0441\u0442\u0435\u043A\u0430\u0435\u0442","custom_acme_expired":"\u0438\u0441\u0442\u0435\u043A\u0448\u0438\u0439"}'),j=JSON.parse('{"custom_acme_id":"ID","custom_acme_status":"Status","custom_acme_title":"Estado das cole\xE7\xF5es","custom_acme_domains":"dom\xEDnios","custom_acme_staging":"Teste","custom_acme_expires":"Expira","custom_acme_expired":"expirado"}'),C=JSON.parse('{"custom_acme_id":"ID","custom_acme_status":"Toestand","custom_acme_title":"Status van de collecties","custom_acme_domains":"Domeinen","custom_acme_staging":"Test","custom_acme_expires":"Verloopt","custom_acme_expired":"verlopen"}'),T=JSON.parse('{"custom_acme_id":"ID","custom_acme_status":"Statut","custom_acme_title":"\xC9tat des collections","custom_acme_domains":"Domaines","custom_acme_staging":"Test","custom_acme_expires":"Expire","custom_acme_expired":"expir\xE9"}'),I=JSON.parse('{"custom_acme_id":"ID","custom_acme_status":"Stato","custom_acme_title":"Stato delle collezioni","custom_acme_domains":"Domini","custom_acme_staging":"Test","custom_acme_expires":"Scade","custom_acme_expired":"scaduto"}'),P=JSON.parse('{"custom_acme_id":"ID","custom_acme_status":"Estado","custom_acme_title":"Estado de las colecciones","custom_acme_domains":"Dominios","custom_acme_staging":"Prueba","custom_acme_expires":"Caduca","custom_acme_expired":"venci\xF3"}'),w=JSON.parse('{"custom_acme_id":"ID","custom_acme_status":"Status","custom_acme_title":"Stan zbior\xF3w","custom_acme_domains":"Domeny","custom_acme_staging":"Test","custom_acme_expires":"Wygasa","custom_acme_expired":"wygas\u0142y"}'),N=JSON.parse('{"custom_acme_id":"ID","custom_acme_status":"\u0421\u0442\u0430\u0442\u0443\u0441","custom_acme_title":"\u0421\u0442\u0430\u043D \u043A\u043E\u043B\u0435\u043A\u0446\u0456\u0439","custom_acme_domains":"\u0414\u043E\u043C\u0435\u043D\u0438","custom_acme_staging":"\u0422\u0435\u0441\u0442","custom_acme_expires":"\u0422\u0435\u0440\u043C\u0456\u043D \u0434\u0456\u0457 \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0454\u0442\u044C\u0441\u044F","custom_acme_expired":"\u0437\u0430\u043A\u0456\u043D\u0447\u0438\u0432\u0441\u044F"}'),J=JSON.parse('{"custom_acme_id":"ID","custom_acme_status":"\u5730\u4F4D","custom_acme_title":"\u9986\u85CF\u72B6\u51B5","custom_acme_domains":"\u57DF","custom_acme_staging":"\u6D4B\u8BD5","custom_acme_expires":"\u8FC7\u671F","custom_acme_expired":"\u5DF2\u5230\u671F"}');var L=o(75826),r=o.n(L),z=o(57129),k=o(90925),R=o(2981),G=o(99793),W=o(85762),v=o(27832),m=o(35264),B=o(50627),F=o(86234),M=Object.defineProperty,V=Object.getPrototypeOf,H=Reflect.get,K=(a,t,e)=>t in a?M(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,U=(a,t,e)=>K(a,typeof t!="symbol"?t+"":t,e),Q=(a,t,e)=>H(V(a),e,t),_=(a,t,e)=>new Promise((c,b)=>{var ae=i=>{try{p(e.next(i))}catch(d){b(d)}},ce=i=>{try{p(e.throw(i))}catch(d){b(d)}},p=i=>i.done?c(i.value):Promise.resolve(i.value).then(ae,ce);p((e=e.apply(a,t)).next())});const l={table:{minWidth:400},header:{fontSize:16,fontWeight:"bold"},ok:{color:"#0ba20b"},warn:{color:"#f57d1d"},error:{color:"#c42c3a"}};class u extends F.ConfigGeneric{constructor(t){super(t),U(this,"onCertsChanged",(e,c)=>{e==="system.certificates"&&c&&this.readData(c).catch(()=>{})}),this.socket=this.props.oContext?this.props.oContext.socket:this.props.socket,Object.assign(this.state,{collections:null})}componentDidMount(){return _(this,null,function*(){Q(u.prototype,this,"componentDidMount").call(this),yield this.readData(),yield this.socket.subscribeObject("system.certificates",this.onCertsChanged)})}readData(t){return _(this,null,function*(){var e;let c=t||(yield this.socket.getObject("system.certificates"));(e=c==null?void 0:c.native)!=null&&e.collections?c=c.native.collections:c={},this.setState({collections:c})})}componentWillUnmount(){return _(this,null,function*(){yield this.socket.unsubscribeObject("system.certificates",this.onCertsChanged)})}renderItem(){return this.state.collections?s.createElement("div",{style:{width:"100%"}},s.createElement("h4",null,n.I18n.t("custom_acme_title")),s.createElement(k.A,{component:R.A,style:{width:"100%"}},s.createElement(G.A,{style:{width:"100%"},size:"small"},s.createElement(W.A,null,s.createElement(v.A,null,s.createElement(m.A,null,n.I18n.t("custom_acme_id")),s.createElement(m.A,null,n.I18n.t("custom_acme_status")),s.createElement(m.A,null,n.I18n.t("custom_acme_domains")),s.createElement(m.A,null,n.I18n.t("custom_acme_staging")),s.createElement(m.A,null,n.I18n.t("custom_acme_expires")),s.createElement(m.A,null))),s.createElement(B.A,null,Object.keys(this.state.collections).map(t=>{const e=this.state.collections[t];let c;return new Date(e.tsExpires).getTime()>Date.now()&&!e.staging?c=s.createElement("span",{style:l.ok},"OK"):new Date(e.tsExpires).getTime()<=Date.now()?c=s.createElement("span",{style:l.error},n.I18n.t("custom_acme_expired")):e.staging&&(c=s.createElement("span",{style:l.warn},n.I18n.t("custom_acme_staging"))),s.createElement(v.A,{key:t,sx:{"&:last-child td, &:last-child th":{border:0}}},s.createElement(m.A,{component:"th",scope:"row"},t),s.createElement(m.A,null,c),s.createElement(m.A,null,e.domains.join(", ")),s.createElement(m.A,{style:e.staging?l.warn:void 0},e.staging?"\u2713":""),s.createElement(m.A,{style:new Date(e.tsExpires).getTime()<Date.now()?l.error:void 0},new Date(e.tsExpires).toLocaleString()))}))))):s.createElement(z.A,null)}}u.propTypes={socket:r().object,oContext:r().object.isRequired,themeType:r().string,themeName:r().string,style:r().object,data:r().object.isRequired,attr:r().string,schema:r().object,onError:r().func,onChange:r().func};const X=u;var Y=Object.defineProperty,f=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable,y=(a,t,e)=>t in a?Y(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,q=(a,t)=>{for(var e in t||(t={}))Z.call(t,e)&&y(a,e,t[e]);if(f)for(var e of f(t))$.call(t,e)&&y(a,e,t[e]);return a};const E={app:a=>({backgroundColor:a.palette.background.default,color:a.palette.text.primary,height:"100%"}),item:{padding:50,width:"100%"}};class ee extends n.GenericApp{constructor(t){const e=q({},t);super(t,e),this.state={data:{myCustomAttribute:"red"},theme:this.createTheme()};const c={en:A,de:S,ru:D,pt:j,nl:C,fr:T,it:I,es:P,pl:w,uk:N,"zh-cn":J};n.I18n.setTranslations(c),n.I18n.setLanguage((navigator.language||navigator.userLanguage||"en").substring(0,2).toLowerCase())}render(){return this.state.loaded?s.createElement(h.A,{injectFirst:!0},s.createElement(g.A,{theme:this.state.theme},s.createElement(O.A,{sx:E.app},s.createElement("div",{style:E.item},s.createElement(X,{socket:this.socket,themeType:this.state.themeType,themeName:this.state.themeName,attr:"myCustomAttribute",data:this.state.data,onError:()=>{},instance:0,schema:{name:"ConfigCustomAcmeSet/Components/AcmeComponent",type:"custom"},onChange:t=>this.setState({data:t})}))))):s.createElement(h.A,{injectFirst:!0},s.createElement(g.A,{theme:this.state.theme},s.createElement(n.Loader,{themeType:this.state.themeType})))}}const te=ee;window.adapterName="adapter-component-template";const se=document.getElementById("root");(0,x.createRoot)(se).render(s.createElement(s.StrictMode,null,s.createElement(te,{socket:{port:8081}})))})}]);

//# sourceMappingURL=src_bootstrap_jsx.98c8bd22.chunk.js.map